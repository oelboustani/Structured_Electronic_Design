<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1" /> <meta name="Language" content="English"/><title>SLiCAP circuit: Noise</title><link rel="stylesheet" href="css/slicap.css"><script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script> <script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: {equationNumbers: {autoNumber: "all"}}});</script><script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script></head><body><div id="top"><h1>SLiCAP circuit: Noise</h1></div>
<h2>Table of contents</h2><ol>
<li><a href="Noise_log.html">Log entries</a></li>
<h2>Netlist: Noise</h2><div id="Mscript"><pre><code><p class="script">"Noise"</p><p class="script">* C:\Users\Tom\OneDrive\Desktop\Assignments\Q2\Structured Eelectronic Design\Assignment3_reorganised\Assignment 3\Noise.asc</p><p class="script">X1 N003 0 out NM18_noise ID={ID} IG=0 W={W} L={L}</p><p class="script">Ca N003 N002 {C_a}</p><p class="script">V1 N001 0 V value=0 dc=0 dcvar=0 noise=0</p><p class="script">Cf N003 0 {C_f}</p><p class="script">E1 N002 0 N001 0 {L_A}</p><p class="script">.lib SLiCAP.lib</p><p class="script">* SPICE commands</p><p class="script">* Antenna model</p><p class="script">* Feedback network</p><p class="script">* Controller noise</p><p class="script">.lib SLiCAP.lib</p><p class="script">.backanno</p><p class="script">.end</p></code></pre></div>
<h2>Expanded netlist  element data</h2><table><tr><th class="left">RefDes</th><th class="left">Nodes</th><th class="left">Refs</th><th class="left">Model</th><th class="left">Param</th><th class="left">Symbolic</th><th class="left">Numeric</th></tr><tr><td class="left">I1_X1</td><td class="left"> 0 1_X1</td><td class="left"></td><td class="left">I</td><td class="left">value</td><td class="left">$0$</td><td class="left">$0.0$</td></tr><td class="left"></td><td class="left"></td><td class="left"></td><td class="left"></td><td class="left">dc</td><td class="left">$0$</td><td class="left">$0.0$</td></tr><td class="left"></td><td class="left"></td><td class="left"></td><td class="left"></td><td class="left">dcvar</td><td class="left">$0$</td><td class="left">$0.0$</td></tr><td class="left"></td><td class="left"></td><td class="left"></td><td class="left"></td><td class="left">noise</td><td class="left">$\frac{4\,T\,k\,\left(\frac{f_{\mathrm{{\ell}{X1}}}}{F}+1\right)}{R_{\mathrm{N{X1}}}}$</td><td class="left">$\frac{8.289\cdot 10^{-17}}{F}+1.644\cdot 10^{-21}$</td></tr><tr><td class="left">H1_X1</td><td class="left"> N003 out 1_X1 10_X1</td><td class="left"></td><td class="left">H</td><td class="left">value</td><td class="left">$\frac{1}{g_{\mathrm{m{X1}}}}$</td><td class="left">$18.86$</td></tr><tr><td class="left">F1_X1</td><td class="left"> N003 0 10_X1 0</td><td class="left"></td><td class="left">F</td><td class="left">value</td><td class="left">$\frac{s}{2\,f_{\mathrm{T{X1}}}\,\pi }$</td><td class="left">$1.581\cdot 10^{-10}\,s$</td></tr><tr><td class="left">I2_X1</td><td class="left"> N003 0</td><td class="left"></td><td class="left">I</td><td class="left">value</td><td class="left">$0$</td><td class="left">$0.0$</td></tr><td class="left"></td><td class="left"></td><td class="left"></td><td class="left"></td><td class="left">dc</td><td class="left">$0$</td><td class="left">$0.0$</td></tr><td class="left"></td><td class="left"></td><td class="left"></td><td class="left"></td><td class="left">dcvar</td><td class="left">$0$</td><td class="left">$0.0$</td></tr><td class="left"></td><td class="left"></td><td class="left"></td><td class="left"></td><td class="left">noise</td><td class="left">$0$</td><td class="left">$0.0$</td></tr><tr><td class="left">Ca</td><td class="left"> N003 N002</td><td class="left"></td><td class="left">C</td><td class="left">value</td><td class="left">$C_{a}$</td><td class="left">$5.0\cdot 10^{-12}$</td></tr><tr><td class="left">V1</td><td class="left"> N001 0</td><td class="left"></td><td class="left">V</td><td class="left">value</td><td class="left">$0$</td><td class="left">$0.0$</td></tr><td class="left"></td><td class="left"></td><td class="left"></td><td class="left"></td><td class="left">dc</td><td class="left">$0$</td><td class="left">$0.0$</td></tr><td class="left"></td><td class="left"></td><td class="left"></td><td class="left"></td><td class="left">dcvar</td><td class="left">$0$</td><td class="left">$0.0$</td></tr><td class="left"></td><td class="left"></td><td class="left"></td><td class="left"></td><td class="left">noise</td><td class="left">$0$</td><td class="left">$0.0$</td></tr><tr><td class="left">Cf</td><td class="left"> N003 0</td><td class="left"></td><td class="left">C</td><td class="left">value</td><td class="left">$C_{f}$</td><td class="left">$2.5\cdot 10^{-12}$</td></tr><tr><td class="left">E1</td><td class="left"> N002 0 N001 0</td><td class="left"></td><td class="left">E</td><td class="left">value</td><td class="left">$L_{A}$</td><td class="left">$0.5$</td></tr></table>
<h2>List with circuit parameters</h2><table><tr><th>name</th><th></th><th class="left">symbolic</th><th></th><th class="left">value</th></tr><tr><td>$G_{\mathrm{X1}}$</td><td class="equal"> = </td><td class="left">$1.5$</td><td class ="equal"> = </td><td class ="left">$1.5$</td></tr><tr><td>$\mathrm{IC}_{\mathrm{X1}}$</td><td class="equal"> = </td><td class="left">$\frac{\mathrm{ID}\,L}{W\,I_{\mathrm{0{X1}}}}$</td><td class ="equal"> = </td><td class ="left">$7.845$</td></tr><tr><td>$N_{\mathrm{s{X1}}}$</td><td class="equal"> = </td><td class="left">$1.35$</td><td class ="equal"> = </td><td class ="left">$1.35$</td></tr><tr><td>$R_{\mathrm{N{X1}}}$</td><td class="equal"> = </td><td class="left">$\frac{\mathrm{IC}_{\mathrm{X1}}+1.0}{N_{\mathrm{s{X1}}}\,g_{\mathrm{m{X1}}}\,\left(G_{\mathrm{X1}}\,\mathrm{IC}_{\mathrm{X1}}+0.5\right)}$</td><td class ="equal"> = </td><td class ="left">$10.08$</td></tr><tr><td>$g_{\mathrm{m{X1}}}$</td><td class="equal"> = </td><td class="left">$\frac{1.414\,\mathrm{ID}}{U_{T}\,N_{\mathrm{s{X1}}}\,\sqrt{\frac{2.0\,\mathrm{IC}_{\mathrm{{CRIT}{X1}}}+\mathrm{IC}_{\mathrm{{CRIT}{X1}}}\,\sqrt{\frac{\mathrm{IC}_{\mathrm{X1}}\,\left(\mathrm{IC}_{\mathrm{X1}}+\mathrm{IC}_{\mathrm{{CRIT}{X1}}}\right)}{\mathrm{IC}_{\mathrm{{CRIT}{X1}}}}}+2.0\,\mathrm{IC}_{\mathrm{X1}}\,\mathrm{IC}_{\mathrm{{CRIT}{X1}}}+2.0\,{\mathrm{IC}_{\mathrm{X1}}}^2}{\mathrm{IC}_{\mathrm{{CRIT}{X1}}}}}}$</td><td class ="equal"> = </td><td class ="left">$0.05301$</td></tr><tr><td>$E_{\mathrm{{CRIT}{X1}}}$</td><td class="equal"> = </td><td class="left">$5.6\cdot 10^{+6}$</td><td class ="equal"> = </td><td class ="left">$5.6\cdot 10^{+6}$</td></tr><tr><td>$\mathrm{IC}_{\mathrm{{CRIT}{X1}}}$</td><td class="equal"> = </td><td class="left">$\frac{0.0625\,L^2\,{E_{\mathrm{{CRIT}{X1}}}}^2}{{U_{T}}^2\,{N_{\mathrm{s{X1}}}}^2\,{\left(L\,\mathrm{\Theta}_{\mathrm{X1}}\,E_{\mathrm{{CRIT}{X1}}}+1.0\right)}^2}$</td><td class ="equal"> = </td><td class ="left">$245.2$</td></tr><tr><td>$L$</td><td class="equal"> = </td><td class="left">$1.006\cdot 10^{-6}$</td><td class ="equal"> = </td><td class ="left">$1.006\cdot 10^{-6}$</td></tr><tr><td>$\mathrm{\Theta}_{\mathrm{X1}}$</td><td class="equal"> = </td><td class="left">$0.28$</td><td class ="equal"> = </td><td class ="left">$0.28$</td></tr><tr><td>$U_{T}$</td><td class="equal"> = </td><td class="left">$\frac{T\,k}{q}$</td><td class ="equal"> = </td><td class ="left">$0.02585$</td></tr><tr><td>$\mathrm{ID}$</td><td class="equal"> = </td><td class="left">$0.006$</td><td class ="equal"> = </td><td class ="left">$0.006$</td></tr><tr><td>$\mathrm{CGSO}_{\mathrm{X1}}$</td><td class="equal"> = </td><td class="left">$3.0\cdot 10^{-10}$</td><td class ="equal"> = </td><td class ="left">$3.0\cdot 10^{-10}$</td></tr><tr><td>$C_{\mathrm{{OX}{X1}}}$</td><td class="equal"> = </td><td class="left">$\frac{\mathrm{\epsilon}_{0}\,\mathrm{\epsilon}_{\mathrm{SiO2}}}{\mathrm{TOX}_{\mathrm{X1}}}$</td><td class ="equal"> = </td><td class ="left">$0.008422$</td></tr><tr><td>$W$</td><td class="equal"> = </td><td class="left">$0.0012$</td><td class ="equal"> = </td><td class ="left">$0.0012$</td></tr><tr><td>$c_{\mathrm{{gs}{X1}}}$</td><td class="equal"> = </td><td class="left">$0.3333\,W\,\left(3.0\,\mathrm{CGSO}_{\mathrm{X1}}+2.0\,L\,C_{\mathrm{{OX}{X1}}}\right)$</td><td class ="equal"> = </td><td class ="left">$7.14\cdot 10^{-12}$</td></tr><tr><td>$c_{\mathrm{{dg}{X1}}}$</td><td class="equal"> = </td><td class="left">$W\,\mathrm{CGSO}_{\mathrm{X1}}$</td><td class ="equal"> = </td><td class ="left">$3.6\cdot 10^{-13}$</td></tr><tr><td>$\mathrm{CGBO}_{\mathrm{X1}}$</td><td class="equal"> = </td><td class="left">$1.0\cdot 10^{-12}$</td><td class ="equal"> = </td><td class ="left">$1.0\cdot 10^{-12}$</td></tr><tr><td>$c_{\mathrm{{gb}{X1}}}$</td><td class="equal"> = </td><td class="left">$2.0\,L\,\mathrm{CGBO}_{\mathrm{X1}}+\frac{0.3333\,L\,W\,C_{\mathrm{{OX}{X1}}}\,\left(N_{\mathrm{s{X1}}}-1.0\right)}{N_{\mathrm{s{X1}}}}$</td><td class ="equal"> = </td><td class ="left">$8.789\cdot 10^{-13}$</td></tr><tr><td>$\mathrm{CJB0}_{\mathrm{X1}}$</td><td class="equal"> = </td><td class="left">$0.001$</td><td class ="equal"> = </td><td class ="left">$0.001$</td></tr><tr><td>$\mathrm{LDS}_{\mathrm{X1}}$</td><td class="equal"> = </td><td class="left">$1.8\cdot 10^{-7}$</td><td class ="equal"> = </td><td class ="left">$1.8\cdot 10^{-7}$</td></tr><tr><td>$c_{\mathrm{{db}{X1}}}$</td><td class="equal"> = </td><td class="left">$W\,\mathrm{CJB0}_{\mathrm{X1}}\,\mathrm{LDS}_{\mathrm{X1}}$</td><td class ="equal"> = </td><td class ="left">$2.16\cdot 10^{-13}$</td></tr><tr><td>$c_{\mathrm{{iss}{X1}}}$</td><td class="equal"> = </td><td class="left">$c_{\mathrm{{gb}{X1}}}+c_{\mathrm{{dg}{X1}}}+c_{\mathrm{{gs}{X1}}}$</td><td class ="equal"> = </td><td class ="left">$8.379\cdot 10^{-12}$</td></tr><tr><td>$f_{\mathrm{T{X1}}}$</td><td class="equal"> = </td><td class="left">$\frac{0.1592\,g_{\mathrm{m{X1}}}}{c_{\mathrm{{iss}{X1}}}}$</td><td class ="equal"> = </td><td class ="left">$1.007\cdot 10^{+9}$</td></tr><tr><td>$\pi $</td><td class="equal"> = </td><td class="left">$3.142$</td><td class ="equal"> = </td><td class ="left">$3.142$</td></tr><tr><td>$I_{\mathrm{0{X1}}}$</td><td class="equal"> = </td><td class="left">$2.0\,{U_{T}}^2\,C_{\mathrm{{OX}{X1}}}\,N_{\mathrm{s{X1}}}\,u_{\mathrm{0{X1}}}$</td><td class ="equal"> = </td><td class ="left">$6.413\cdot 10^{-7}$</td></tr><tr><td>$u_{\mathrm{0{X1}}}$</td><td class="equal"> = </td><td class="left">$0.0422$</td><td class ="equal"> = </td><td class ="left">$0.0422$</td></tr><tr><td>$\mathrm{TOX}_{\mathrm{X1}}$</td><td class="equal"> = </td><td class="left">$4.1\cdot 10^{-9}$</td><td class ="equal"> = </td><td class ="left">$4.1\cdot 10^{-9}$</td></tr><tr><td>$\mathrm{\epsilon}_{0}$</td><td class="equal"> = </td><td class="left">$\frac{1}{c^2\,\mathrm{\mu}_{0}}$</td><td class ="equal"> = </td><td class ="left">$8.854\cdot 10^{-12}$</td></tr><tr><td>$\mathrm{\epsilon}_{\mathrm{SiO2}}$</td><td class="equal"> = </td><td class="left">$3.9$</td><td class ="equal"> = </td><td class ="left">$3.9$</td></tr><tr><td>$\mathrm{KF}_{\mathrm{X1}}$</td><td class="equal"> = </td><td class="left">$3.0\cdot 10^{-25}$</td><td class ="equal"> = </td><td class ="left">$3.0\cdot 10^{-25}$</td></tr><tr><td>$T$</td><td class="equal"> = </td><td class="left">$300.0$</td><td class ="equal"> = </td><td class ="left">$300.0$</td></tr><tr><td>$f_{\mathrm{{\ell}{X1}}}$</td><td class="equal"> = </td><td class="left">$\frac{0.25\,\mathrm{KF}_{\mathrm{X1}}\,R_{\mathrm{N{X1}}}\,{g_{\mathrm{m{X1}}}}^2}{L\,T\,W\,k\,C_{\mathrm{{OX}{X1}}}}$</td><td class ="equal"> = </td><td class ="left">$50410.0$</td></tr><tr><td>$k$</td><td class="equal"> = </td><td class="left">$1.381\cdot 10^{-23}$</td><td class ="equal"> = </td><td class ="left">$1.381\cdot 10^{-23}$</td></tr><tr><td>$C_{a}$</td><td class="equal"> = </td><td class="left">$5.0\cdot 10^{-12}$</td><td class ="equal"> = </td><td class ="left">$5.0\cdot 10^{-12}$</td></tr><tr><td>$C_{f}$</td><td class="equal"> = </td><td class="left">$2.5\cdot 10^{-12}$</td><td class ="equal"> = </td><td class ="left">$2.5\cdot 10^{-12}$</td></tr><tr><td>$L_{A}$</td><td class="equal"> = </td><td class="left">$0.5$</td><td class ="equal"> = </td><td class ="left">$0.5$</td></tr></table>
<p>The main noise contribution is from the input stage. To simulate noise performance we find design parameters which are sufficient for a CS-stage and then extrapolate those to a differential input stage with the same noise performance.</p>
<p>Given a certain width there is a length at which $C_{ISS}=C_s$. We find this length and then increase $I_D$ to just above the point where the noise floor is sufficiently low.</p>
<h2>Source referred noise</h2>
<p>The spectrum of the source referred noise power in V^2/Hz is:</p>
<p>$$ S_{v}=\frac{1.19\cdot 10^{-12}}{F}+2.361\cdot 10^{-17} $$</p>
<p>The plot below shows the source referred noise spectrum from  1kHz to 1GHz.</p>
<figure><img src="figures/CScapNoiseVspectrum.svg" width="800"/></figure>
<p>Given a width $W=1.2 mm$, $L=1 um$ and $I_D=6 mA$ a CS-stage fulfills the noise requirements. This can be translated to a differential stage by using the same length but doubling the width of both transistors while also doubling the current.</p>
<p>Should these values prove insufficient to produce adequate gain the width can be adjusted at no cost to the noise performance.</p>
<h2>Source referred noise</h2>
<p>The spectrum of the source referred noise power in V^2/Hz is:</p>
<p>$$ S_{v}=\frac{1.137\cdot 10^{-12}}{F}+2.467\cdot 10^{-17} $$</p>
<p>The plot below shows the source referred noise spectrum from  1kHz to 1GHz.</p>
<figure><img src="figures/CScapNoiseVspectrum.svg" width="800"/></figure>
<p>The above simulation was performed at $W=0.6 mm$, $L=2.1 um$ and $I_D=30 mA and also meets the requirements. For the next step the first step of values is used.</p>
</ol><div id="footnote"><p>Go to <a href="index.html"> main index</a></p><p>SLiCAP: Symbolic Linear Circuit Analysis Program, Version 0.6 &copy 2009-2020 Anton Montagne</p><p>For documentation, examples, support, updates and courses please visit: <a href="http://www.analog-electronics.eu">analog-electronics.eu</a></p></div></body></html>
<div id="footnote"><p>Go to <a href="index.html"> main index</a></p><p>SLiCAP: Symbolic Linear Circuit Analysis Program, Version 0.6 &copy 2009-2020 Anton Montagne</p><p>For documentation, examples, support, updates and courses please visit: <a href="http://www.analog-electronics.eu">analog-electronics.eu</a></p></div></body></html>
